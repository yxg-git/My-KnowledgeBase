# Java基础

## 一、数据的概念

数据在计算机内部都是二进制，不方便操作，为了方便操作数据，高级语言引入了”数据类型“和”变量“的概念。

### 数据类型

数据类型用于对数据归类，方便理解和操作，对Java而言有八种基本数据类型：

- 整数类型：byte/short/int/long，
- 小数类型：float/double
- 字符类型：char
- 布尔类型：boolean

基本数据类型都有对应的数据类型，数组表示固定长度的同种数据类型的多条记录，这些数据都在内存中挨在一起存放。

Java是一个面向对象的语言，除了基本数据类型，其他都是对象类型。简单来说，对象是由基本数据类型、数组和其他对象组合而成的一个东西，以方便对其整体进行操作。

### 变量

为了操作数据，需要把数据存放在内存中，所谓内存在程序看来就是一块有地址编号的连续的空间，放在内存中的某个位置后，为了方便地找到和操作这个数据，需要给这个位置起一个名字。编程语言通过`变量`这个概念来表示这个过程。

> 声明一个变量，比如 int a其实就是在内存中分配了一个空间，这个空间存放int数据类型，a指向这个内存空间所在的位置，通过对a操作即可操作a指向的内存空间，比如a=5这个操作即可将a指向的内存空间的值改为5。

之所以叫变量，是因为他表示的是内存中的位置，这个位置存放的值是可以变化的。

## 二、赋值

声明变量之后，就在内存中分配了一块位置，但这个位置的内容是未知的，赋值就是把这块位置的内容设为一个确定的值。

### 基本类型的赋值

1. 整数类型

   整数类型有byte，short，int和long，分别占用1/2/4/8个字节，取值范围分别是：

   | 类型名 | 取值范围       |
   | ------ | -------------- |
   | byte   | -2^7 ~ 2^7-1   |
   | short  | -2^15 ~ 2^15-1 |
   | int    | -2^31 ~ 2^31-1 |
   | long   | -2^63 ~ 2^63-1 |

   ```java
   public class Assign {
       public static void main(String[] args) {
           byte b = 1;
           short s = 5;
           int i = 1999;
           long l = 100000L;
       }
   }
   ```

   <!--整数类型默认为int型，给long类型赋值时,需要在数据后加L,必须是大写的L,不能是小写的,具体参考《阿里巴巴代码规约》-->

2. 小数类型

   小数类型有float和double，占用的内存空间分别是4和8个字节，有不同的取值范围和精度

   | 类型名 | 取值范围                                |
   | ------ | --------------------------------------- |
   | float  | 1.4E-45 ~ 3.4E+38-3.4E+38 ~-1.4E-45     |
   | double | 4.9E-324 ~1.7E+308-1.7E+308 ~ -4.9E-324 |

   ```java
   public class Assign {
       public static void main(String[] args) {
           double d = 100.11;
           float f = 100.11f;
       }
   }
   ```

   <!--小数类型默认为double，所以给float赋值时要在数值后加小F或者f-->

3. 布尔类型

   布尔类型直接使用true或false赋值，分别表示真和假

   ```java
   public class Assign {
       public static void main(String[] args) {
           boolean a = true;
           boolean b = false;
       }
   }
   ```

4. 字符类型

   字符类型char用于表示一个字符，这个字符可以是中文字符，也可以是英文字符。在内存中，Java用两个字节表示一个字符。

   ```java
   public class Assign {
       public static void main(String[] args) {
           char c = '中';
           char z = 'A'
       }
   }
   ```

### 数组类型的赋值
1. 数组有三种辅助形式，分别是：

   ```java
   1. int[] arr = {1, 2, 3};
   2. int[] arr = new int[]{1, 2, 3};
   3. int[] arr = new int[3];
       arr[0] = 1;
       arr[1] = 2;
       arr[2] = 3;
   ```

   第一种和第二种都是预先知道数组的内容，而第三种是先分配长度，然后再给每个元素赋值

   在第三种形式中，即使没有给每个元素赋值，每个元素也都有一个默认值，这个默认值跟数组类型有关。数值类型的值为0，boolean为false，char为空字符。

   数组的长度一旦确定，就不能改变。一个基本类型变量，内存中只会有一块对应的内存空间。但数组有两块，一块用于存储数组内容本身，另一块用用户存储内容的位置。

2. 数组的赋值

   ```java
   public class Assign {
       public static void main(String[] args) {
           int[] arr1 = {1, 2, 3};
           int[] arr2 = {4, 5, 6 , 7};
           arr1 = arr2;
           System.out.println(arr1);
       }
   }
   ```

3. 数组的赋值

   将`arr2`赋值给`arr1`，如果`arr1`对应的内存空间是直接存储的数组内容，那么它将没有足够的空间去容纳`arr2`的所有元素。而数组由两块空间存储，将`arr2`的值赋值给`arr1`的值，只是将`arr1`的地址值指向了`arr2`，而`arr1`{1，2，3}的内存空间由于无人引用而被垃圾回收。

![image-20220304144716764](https://yxgspace.oss-cn-beijing.aliyuncs.com/img/image-20220304144716764.png)

## 三、基本运算

Java中基本类型数据的主要运算

- 算术运算：主要是日常的加减乘除
- 比较运算：主要是日常的大小比较
- 逻辑运算：针对布尔值进行运算

### 算术运算

算术运算符有加减乘除(+-*/)，另外还有取模运算符%，以及自增(++)和自减(--)运算符。取模运算适用于整数和字符类型，其他算数运算适用于所有数值类型和字符类型。

1. 加减乘除注意事项

   运算时要注意结构的范围，使用恰当的数据类型。

   ```java
   public class Operation {
       public static void main(String[] args) {
           int a = 2147483647*2;
           System.out.println(a);
       }
   }
   ```

   输出结果为：

   ![image-20220304151942122](https://yxgspace.oss-cn-beijing.aliyuncs.com/img/image-20220304151942122.png)

   二进制使用最高位表示符号位，用1表示负数，用0表示正数。当计算结果超出表示范围的时候，最高位往往是1，然后就会被看做负数。要避免这种情况，我们的结果类型应使用long。

   整数相除不是四舍五入，而是直接舍去小数位

   ```java
   public class Operation {
       public static void main(String[] args) {
           double d = 10 / 4;
           System.out.println(d);
       }
   }
   ```

   输出结果是2.0，而不是2.5，这是因为整数默认为int类型，如果要按小数进行运算，需要将至少一个数表示为小数形式，或者强制类型转换，将整数强转为double类型

   ```java
   public class Operation {
       public static void main(String[] args) {
           double d = 10 / 4.0;
           double d2 = 10 / (double)4;
           System.out.println(d);
           System.out.println(d2);
       }
   }
   ```

   小数相乘出现计算结果不精确的现象

   ```java
   public class Operation {
       public static void main(String[] args) {
           float f = 0.1f * 0.1f;
           System.out.println(f);
       }
   }
   ```

   删除结果为：

   ![image-20220304152848940](https://yxgspace.oss-cn-beijing.aliyuncs.com/img/image-20220304152848940.png)

   不是运算本身会出错，而是计算机根本就不能精确的表示很多数，比如0.1这个数。计算机是用一种二进制格式存储小数的，这个二进制格式不能精确表示0.1，它只能表示一个非常接近0.1但又不等于0.1的一个数。处理这种问题可以使用四舍五入的方式。

2. 自增自减

   自增/自减是对自己做加一和减一操作，但每个都有两种形式，一种是放在变量后，例如a++, a--，另一种是放在变量前，例如++a, --a。如果只是对自己操作，这两种形式也没什么差别，区别在于还有其他操作的时候。放在变量后(a++)，是先用原来的值进行其他操作，然后再对自己做修改，而放在变量前(++a)，是先对自己做修改，再用修改后的值进行其他操作

### 比较运算

比较运算就是计算两个值之间的关系，结果是一个布尔类型的值。

比较操作符有：大于(>)，大于等于(>=)，小于(<)，小于等于(<=)，等于(==)，不等于(!=)。

<!--等于为==，而不是=，因为=是赋值运算符-->

对于数组，`==`判断的是两个数组是不是同一个数组，而不是两个数组的元素内容是否相同，即比较的是两个数组的地址是否相同。

### 逻辑运算

逻辑运算根据数据的逻辑关系，生成一个布尔值true或者false。逻辑运算只可应用于boolean类型的数据，但比较运算的结果是布尔值。

逻辑运算符具体有：

- 与(&)：两个都为true才是true，只要有一个是false就是false
- 或(|)：只要有一个为true就是true，都是false才是false
- 非(!)：针对一个变量，true会变成false, false会变成true
- 异或(^)：两个相同为false, 两个不相同为true
- 短路与(&&): 和&类似，不同的是&&有短路效果，即前面的表达式为false，则后面的表达式将不再参与运算，&还有位运算的功能。
- 短路或 (||)：与|类似























